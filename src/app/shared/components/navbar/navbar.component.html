<nav class="sticky top-0 z-50 bg-gradient-to-r from-gray-900 to-gray-800 shadow-lg border-b border-gray-700 navbar-container transition-all duration-300 "  
     [class.shadow-2xl]="isScrolled"
     [class.bg-opacity-95]="isScrolled">
  <div class="w-11/12 mx-auto">
    <div class="flex flex-wrap items-center justify-between py-4">
      
      <!-- Logo and Navigation Menu (Left side) -->
      <div class="flex items-center space-x-8">
        <!-- Logo -->
        <a routerLink="/" routerLinkActive="text-green-400" class="flex items-center space-x-3 group logo-container" (click)="onLinkClick()">
          <img src="/images/freshcart-logo.svg" class="h-10 group-hover:scale-105 transition-transform duration-200" alt="Freshcart Logo" />
        </a>

        <!-- Navigation Menu - Hidden on mobile -->
        @if (isLogin === true) {
          <ul class="hidden md:flex items-center space-x-6 text-white font-medium">
            <li><a routerLink="/home" routerLinkActive="text-green-400 bg-gray-800 rounded-lg" class="py-2 px-3 hover:text-green-400 transition-colors duration-200" (click)="onLinkClick()">Home</a></li>
            <li><a routerLink="/product" routerLinkActive="text-green-400 bg-gray-800 rounded-lg" class="py-2 px-3 hover:text-green-400 transition-colors duration-200" (click)="onLinkClick()">Products</a></li>
            <li><a routerLink="/categories" routerLinkActive="text-green-400 bg-gray-800 rounded-lg" class="py-2 px-3 hover:text-green-400 transition-colors duration-200" (click)="onLinkClick()">Categories</a></li>
            <li><a routerLink="/brands" routerLinkActive="text-green-400 bg-gray-800 rounded-lg" class="py-2 px-3 hover:text-green-400 transition-colors duration-200" (click)="onLinkClick()">Brands</a></li>
            <li><a routerLink="/allorders" routerLinkActive="text-green-400 bg-gray-800 rounded-lg" class="py-2 px-3 hover:text-green-400 transition-colors duration-200" (click)="onLinkClick()">My Orders</a></li>
          </ul>
        }
      </div>

      <!-- Right side content with ms-auto -->
      <div class="ms-auto flex items-center space-x-4 md:space-x-8">
        <!-- Cart and Wishlist Icons - Only for logged in users -->
        @if (isLogin === true) {
          <div class="flex items-center space-x-4">
            <a routerLink="/cart" routerLinkActive="text-green-400" class="text-gray-400 hover:text-green-400 transition-colors duration-200 hover:scale-110 transform relative" (click)="refreshCartCount()">
              <i class="fas fa-shopping-cart text-xl"></i>
              <!-- Cart badge -->
              @if (cartCount > 0) {
                <span class="cart-badge">
                  {{ cartCount }}
                </span>
              }
            </a>
            <a routerLink="/wishlist" routerLinkActive="text-red-500" class="text-gray-400 hover:text-red-600 transition-colors duration-200 hover:scale-110 transform relative" (click)="refreshWishlistCount()">
              <i class="fa-solid fa-heart text-xl"></i>
              <!-- Wishlist badge -->
              @if (wishlistCount > 0) {
                <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
                  {{ wishlistCount }}
                </span>
              }
            </a>
          </div>
        }
        <!-- Social icons - Hidden on mobile -->
        <div class="hidden md:flex items-center space-x-4 border-l border-gray-700 pl-8">
          
          <a href="#" class="text-gray-400 hover:text-green-400 transition-colors duration-200 hover:scale-110 transform ">
            <i class="fab fa-facebook-f text-lg"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-green-400 transition-colors duration-200 hover:scale-110 transform ">
            <i class="fab fa-twitter text-lg"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-green-400 transition-colors duration-200 hover:scale-110 transform ">
            <i class="fab fa-linkedin-in text-lg"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-green-400 transition-colors duration-200 hover:scale-110 transform ">
            <i class="fab fa-instagram text-lg"></i>
          </a>
        </div>

        <!-- Auth links - Hidden on mobile -->
        <div class="hidden md:flex items-center space-x-4 border-l border-gray-700 pl-8">
          @if (isLogin === false) {
            <a routerLink="/login" routerLinkActive="text-green-400 bg-gray-800 rounded-lg" class="text-gray-300 hover:text-green-400 transition-colors duration-200 font-medium py-2 px-3" (click)="onLinkClick()">Login</a>
            <a routerLink="/register" routerLinkActive="bg-green-600" class="btn-main navbar-btn-primary" (click)="onLinkClick()">Register</a>
          } @else {
            <a (click)="logout()" class="text-gray-300 hover:text-red-600 transition-colors duration-200 font-medium cursor-pointer">Signout</a>
          }
        </div>

        <!-- Mobile menu button -->
        <button (click)="toggleMobileMenu()" type="button" 
          class="inline-flex items-center p-2.5 w-11 h-11 justify-center text-sm text-white rounded-lg md:hidden hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-200 navbar-button">
          <span class="sr-only">Open main menu</span>
          <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
              d="M1 1h15M1 7h15M1 13h15"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu -->
  <div class="md:hidden border-t border-gray-700 mobile-menu-backdrop transition-all duration-300 ease-in-out" 
       [class.hidden]="!isMobileMenuOpen"
       [class.opacity-0]="!isMobileMenuOpen"
       [class.transform]="!isMobileMenuOpen"
       [class.-translate-y-2]="!isMobileMenuOpen">
    @if (isLogin === true) {
      <div class="px-4 py-4 space-y-2">
        <a routerLink="/home" routerLinkActive="text-green-400 bg-gray-800" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">Home</a>
        <a routerLink="/product" routerLinkActive="text-green-400 bg-gray-800" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">Products</a>
        <a routerLink="/categories" routerLinkActive="text-green-400 bg-gray-800" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">Categories</a>
        <a routerLink="/brands" routerLinkActive="text-green-400 bg-gray-800" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">Brands</a>
        <a routerLink="/allorders" routerLinkActive="text-green-400 bg-gray-800" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">My Orders</a>
        <!-- <a routerLink="/cart" routerLinkActive="text-green-400" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">Cart</a>
        <a routerLink="/wishlist" routerLinkActive="text-red-500" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium"(click)="onLinkClick()">Wishlist</a> -->
      </div>
    }
    
    <!-- Mobile auth links -->
    <div class="px-4 py-4 border-t border-gray-700 bg-gray-800/50">
      @if (isLogin === false) {
        <div class="space-y-3">
          <a routerLink="/login" routerLinkActive="bg-green-600" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">Login</a>
          <a routerLink="/register" routerLinkActive="bg-green-600" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium" (click)="onLinkClick()">Register</a>
        </div>
      } @else {
        <div class="space-y-3">
          <a (click)="logout()" class="btn-main navbar-btn-primary inline-block w-full text-center py-3 px-4 rounded-lg font-medium cursor-pointer">Signout</a>
        </div>
      }
    </div>
  </div>
</nav>
